<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sokoban.Game.Player</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Sokoban-Game-Player.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Alberto Faria &lt;albertofaria2@gmail.com&gt;;
              F&#225;bio Fontes &lt;fabio.4797@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Sokoban.Game.Player</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Tipos</a></li><li><a href="#g:2">Constru&#231;&#227;o</a></li><li><a href="#g:3">Estado</a></li><li><a href="#g:4">A&#231;&#245;es</a></li><li><a href="#g:5">Atualiza&#231;&#227;o</a></li><li><a href="#g:6">Convers&#227;o para <code>Picture</code></a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo gere o armazenamento e representa&#231;&#227;o visual das personagens que o
utilizador controla ao jogar o jogo.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Player">Player</a> = <a href="#v:Player">Player</a> {<ul class="subs"><li><a href="#v:playerPos">playerPos</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li><a href="#v:playerDir">playerDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li><a href="#v:playerIsGrabbing">playerIsGrabbing</a> :: Bool</li><li><a href="#v:playerTeleportPos">playerTeleportPos</a> :: Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li><a href="#v:playerFinished">playerFinished</a> :: Bool</li><li><a href="#v:playerAnimPos">playerAnimPos</a> :: Vector</li><li><a href="#v:playerAnimInitPos">playerAnimInitPos</a> :: Vector</li><li><a href="#v:playerAnimFinalPos">playerAnimFinalPos</a> :: Vector</li><li><a href="#v:playerAnimPhase">playerAnimPhase</a> :: Int</li><li><a href="#v:playerPicFun">playerPicFun</a> :: String -&gt; Picture</li><li><a href="#v:playerPic">playerPic</a> :: Picture</li><li><a href="#v:playerSteps">playerSteps</a> :: [<a href="Sokoban-Game-Player.html#t:Step">Step</a>]</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Step">Step</a><ul class="subs"><li>= <a href="#v:StepMovement">StepMovement</a> { <ul class="subs"><li><a href="#v:stepInvDir">stepInvDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li><a href="#v:stepTurnDir">stepTurnDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li><a href="#v:stepIsGrabbing">stepIsGrabbing</a> :: Bool</li><li><a href="#v:stepTeleportPos">stepTeleportPos</a> :: Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li></ul> }</li><li>| <a href="#v:StepTeleport">StepTeleport</a> { <ul class="subs"><li><a href="#v:stepPrevPos">stepPrevPos</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li></ul> }</li></ul></li><li class="src short"><a href="#v:create">create</a> :: <a href="Sokoban-Assets.html#t:Assets">Assets</a> -&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:pos">pos</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li class="src short"><a href="#v:dir">dir</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li class="src short"><a href="#v:isGrabbing">isGrabbing</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:teleportPos">teleportPos</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li class="src short"><a href="#v:numSteps">numSteps</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Int</li><li class="src short"><a href="#v:canUndo">canUndo</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Bool</li><li class="src short"><a href="#v:move">move</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:setDir">setDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:grabBox">grabBox</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:releaseBox">releaseBox</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:saveTeleport">saveTeleport</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:doTeleport">doTeleport</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:finish">finish</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:undo">undo</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:undoStep">undoStep</a> :: <a href="Sokoban-Game-Player.html#t:Step">Step</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:update">update</a> :: Float -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li class="src short"><a href="#v:draw">draw</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Picture</li></ul></div><div id="interface"><h1 id="g:1">Tipos</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Player" class="def">Player</a></p><div class="doc"><p>Tipo <em>abstrato</em> que representa um jogador.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Player" class="def">Player</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:playerPos" class="def">playerPos</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Coordenadas da c&#233;lula do tabuleiro onde
 o jogador se encontra.</p></dd><dt class="src"><a name="v:playerDir" class="def">playerDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Dire&#231;&#227;o para onde o jogador est&#225; virado.</p></dd><dt class="src"><a name="v:playerIsGrabbing" class="def">playerIsGrabbing</a> :: Bool</dt><dd class="doc"><p>Determina se o jogador est&#225; a
 agarrar uma caixa.</p></dd><dt class="src"><a name="v:playerTeleportPos" class="def">playerTeleportPos</a> :: Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Posi&#231;&#227;o de destino do teleporte.</p></dd><dt class="src"><a name="v:playerFinished" class="def">playerFinished</a> :: Bool</dt><dd class="doc"><p>Determina se o jogador terminou o jogo.</p></dd><dt class="src"><a name="v:playerAnimPos" class="def">playerAnimPos</a> :: Vector</dt><dd class="doc"><p>Posi&#231;&#227;o visual atual do jogador.</p></dd><dt class="src"><a name="v:playerAnimInitPos" class="def">playerAnimInitPos</a> :: Vector</dt><dd class="doc"><p>Posi&#231;&#227;o visual do jogador no in&#237;cio da
 anima&#231;&#227;o.</p></dd><dt class="src"><a name="v:playerAnimFinalPos" class="def">playerAnimFinalPos</a> :: Vector</dt><dd class="doc"><p>Posi&#231;&#227;o visual do jogador no final da
 anima&#231;&#227;o.</p></dd><dt class="src"><a name="v:playerAnimPhase" class="def">playerAnimPhase</a> :: Int</dt><dd class="doc"><p>Fase atual da anima&#231;&#227;o. Toma o valor <code>0</code>
 ou <code>1</code>.</p></dd><dt class="src"><a name="v:playerPicFun" class="def">playerPicFun</a> :: String -&gt; Picture</dt><dd class="doc"><p>Fun&#231;&#227;o que obt&#233;m uma imagem do
 jogador dado o identificador de
 um bitmap.</p></dd><dt class="src"><a name="v:playerPic" class="def">playerPic</a> :: Picture</dt><dd class="doc"><p>Imagem atual do jogador.</p></dd><dt class="src"><a name="v:playerSteps" class="def">playerSteps</a> :: [<a href="Sokoban-Game-Player.html#t:Step">Step</a>]</dt><dd class="doc"><p>Movimentos que o jogador j&#225; realizou.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Step" class="def">Step</a></p><div class="doc"><p>Armazena informa&#231;&#227;o sobre um movimento do jogador.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:StepMovement" class="def">StepMovement</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:stepInvDir" class="def">stepInvDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Dire&#231;&#227;o oposta &#225; do movimento.</p></dd><dt class="src"><a name="v:stepTurnDir" class="def">stepTurnDir</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Dire&#231;&#227;o para o qual o jogador estava
 virado durante o movimento.</p></dd><dt class="src"><a name="v:stepIsGrabbing" class="def">stepIsGrabbing</a> :: Bool</dt><dd class="doc"><p>Determina se o jogador estava a agarrar
 numa caixa durante o movimento.</p></dd><dt class="src"><a name="v:stepTeleportPos" class="def">stepTeleportPos</a> :: Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Posi&#231;&#227;o de destino do teleporte
 antes do movimento.</p></dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:StepTeleport" class="def">StepTeleport</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:stepPrevPos" class="def">stepPrevPos</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></dt><dd class="doc"><p>Posi&#231;&#227;o do jogador antes do teleporte.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><h1 id="g:2">Constru&#231;&#227;o</h1><div class="top"><p class="src"><a name="v:create" class="def">create</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Assets.html#t:Assets">Assets</a></td><td class="doc"><p>Assets.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a></td><td class="doc"><p>Atributos do personagem.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Posi&#231;&#227;o inicial no tabuleiro.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Contr&#243;i um valor do tipo <code><a href="Sokoban-Game-Player.html#t:Player">Player</a></code>, dados os atributos do personagem e a
 posi&#231;&#227;o inicial do jogador.</p></div></div><h1 id="g:3">Estado</h1><div class="top"><p class="src"><a name="v:pos" class="def">pos</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></p><div class="doc"><p>Determina as coordenadas da c&#233;lula do tabuleiro onde um jogador se
 encontra.</p></div></div><div class="top"><p class="src"><a name="v:dir" class="def">dir</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></p><div class="doc"><p>Determina a dire&#231;&#227;o para onde um jogador est&#225; virado.</p></div></div><div class="top"><p class="src"><a name="v:isGrabbing" class="def">isGrabbing</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Bool</p><div class="doc"><p>Verifica se um jogador est&#225; a agarrar uma caixa.</p></div></div><div class="top"><p class="src"><a name="v:teleportPos" class="def">teleportPos</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Maybe <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></p><div class="doc"><p>Determina a posi&#231;&#227;o de destino de teleporte de um jogador.</p></div></div><div class="top"><p class="src"><a name="v:numSteps" class="def">numSteps</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Int</p><div class="doc"><p>Determina o n&#250;mero de movimentos que o jogador j&#225; efetuou.</p></div></div><div class="top"><p class="src"><a name="v:canUndo" class="def">canUndo</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Bool</p><div class="doc"><p>Verifica se o jogador pode anular uma jogada, i.e., se o jogador tem
 jogadas para anular.</p></div></div><h1 id="g:4">A&#231;&#245;es</h1><div class="top"><p class="src"><a name="v:move" class="def">move</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Move o jogador uma c&#233;lula na dire&#231;&#227;o especificada.</p></div></div><div class="top"><p class="src"><a name="v:setDir" class="def">setDir</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Dire&#231;&#227;o para onde o jogador deve ficar virado.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Altera a dire&#231;&#227;o para onde um jogador est&#225; virado.</p></div></div><div class="top"><p class="src"><a name="v:grabBox" class="def">grabBox</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Faz com que o jogador agarre uma caixa, na dire&#231;&#227;o para onde ele se
 encontra virado.</p></div></div><div class="top"><p class="src"><a name="v:releaseBox" class="def">releaseBox</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Faz com que o jogador deixe de agarrar uma caixa.</p></div></div><div class="top"><p class="src"><a name="v:saveTeleport" class="def">saveTeleport</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Armazena a posi&#231;&#227;o atual do jogador como a sua posi&#231;&#227;o de teleporte.</p></div></div><div class="top"><p class="src"><a name="v:doTeleport" class="def">doTeleport</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Teleporta o jogador para a posi&#231;&#227;o previamente armazenada.</p></div></div><div class="top"><p class="src"><a name="v:finish" class="def">finish</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Altera o aspeto do jogador para uma imagem que indique que o n&#237;vel foi
 terminado.</p></div></div><div class="top"><p class="src"><a name="v:undo" class="def">undo</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></p><div class="doc"><p>Anula o &#250;ltimo movimento do jogador.</p></div></div><div class="top"><p class="src"><a name="v:undoStep" class="def">undoStep</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Game-Player.html#t:Step">Step</a></td><td class="doc"><p>Movimento a anular.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar utilizada pela fun&#231;&#227;o <code><a href="Sokoban-Game-Player.html#v:undo">undo</a></code>, que anula um movimento do
 jogador.</p></div></div><h1 id="g:5">Atualiza&#231;&#227;o</h1><div class="top"><p class="src"><a name="v:update" class="def">update</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Float</td><td class="doc"><p>Fator, de <code>0</code> a <code>1</code>, que determina o estado da anima&#231;&#227;o
 atual.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Player.html#t:Player">Player</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Atualiza o estado de um jogador.</p></div></div><h1 id="g:6">Convers&#227;o para <code>Picture</code></h1><div class="top"><p class="src"><a name="v:draw" class="def">draw</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a> -&gt; Picture</p><div class="doc"><p>Desenha uma jogador.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>