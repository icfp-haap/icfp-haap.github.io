<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sokoban.Game.Level</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Sokoban-Game-Level.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Alberto Faria &lt;albertofaria2@gmail.com&gt;;
              F&#225;bio Fontes &lt;fabio.4797@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Sokoban.Game.Level</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Tipos</a></li><li><a href="#g:2">Constru&#231;&#227;o</a><ul><li><a href="#g:3">Parsing</a></li></ul></li><li><a href="#g:4">Estado</a></li><li><a href="#g:5">A&#231;&#245;es</a></li><li><a href="#g:6">Movimento do Jogador</a></li><li><a href="#g:7">Processamento de Eventos</a></li><li><a href="#g:8">Atualiza&#231;&#227;o</a></li><li><a href="#g:9">Convers&#227;o para <code>Picture</code></a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo gere todos os aspetos relativos &#224; representa&#231;&#227;o e intera&#231;&#227;o do
utilizador com o estado de um n&#237;vel.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Level">Level</a> = <a href="#v:Level">Level</a> {<ul class="subs"><li><a href="#v:levelState">levelState</a> :: <a href="Sokoban-Game-Level.html#t:LevelState">LevelState</a></li><li><a href="#v:levelReplayCmds">levelReplayCmds</a> :: [<a href="Sokoban-Game-Level.html#t:Command">Command</a>]</li><li><a href="#v:levelBoard">levelBoard</a> :: <a href="Sokoban-Game-Board.html#t:Board">Board</a></li><li><a href="#v:levelPlayerAttr">levelPlayerAttr</a> :: <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a></li><li><a href="#v:levelPlayer">levelPlayer</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a></li><li><a href="#v:levelBoxes">levelBoxes</a> :: <a href="Sokoban-Game-Boxes.html#t:Boxes">Boxes</a></li><li><a href="#v:levelAnimTime">levelAnimTime</a> :: Float</li><li><a href="#v:levelAnimDuration">levelAnimDuration</a> :: Float</li><li><a href="#v:levelMoveLeft">levelMoveLeft</a> :: Bool</li><li><a href="#v:levelMoveDown">levelMoveDown</a> :: Bool</li><li><a href="#v:levelMoveRight">levelMoveRight</a> :: Bool</li><li><a href="#v:levelMoveUp">levelMoveUp</a> :: Bool</li><li><a href="#v:levelKeySpace">levelKeySpace</a> :: Bool</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:LevelState">LevelState</a><ul class="subs"><li>= <a href="#v:Playing">Playing</a></li><li>| <a href="#v:Replaying">Replaying</a></li><li>| <a href="#v:Restarting">Restarting</a></li><li>| <a href="#v:Ended">Ended</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Command">Command</a> = Char</li><li class="src short"><a href="#v:create">create</a> :: <a href="Sokoban-Assets.html#t:Assets">Assets</a> -&gt; String -&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a> -&gt; IO <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:parseLevel">parseLevel</a> :: <a href="Sokoban-Assets.html#t:Assets">Assets</a> -&gt; <a href="Sokoban-Assets.html#t:Theme">Theme</a> -&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a> -&gt; String -&gt; IO (<a href="Sokoban-Game-Board.html#t:Board">Board</a>, <a href="Sokoban-Game-Player.html#t:Player">Player</a>, <a href="Sokoban-Game-Boxes.html#t:Boxes">Boxes</a>, [<a href="Sokoban-Game-Level.html#t:Command">Command</a>])</li><li class="src short"><a href="#v:parseCells">parseCells</a> :: [String] -&gt; ([<a href="Sokoban-Game-Board.html#t:Cell">Cell</a>], <a href="Sokoban-Helper.html#t:VectorI">VectorI</a>)</li><li class="src short"><a href="#v:parseCoords">parseCoords</a> :: [String] -&gt; [<a href="Sokoban-Helper.html#t:VectorI">VectorI</a>]</li><li class="src short"><a href="#v:parsePos">parsePos</a> :: String -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></li><li class="src short"><a href="#v:parseCommands">parseCommands</a> :: [String] -&gt; [<a href="Sokoban-Game-Level.html#t:Command">Command</a>]</li><li class="src short"><a href="#v:isAnimating">isAnimating</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</li><li class="src short"><a href="#v:numSteps">numSteps</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Int</li><li class="src short"><a href="#v:levelFinished">levelFinished</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</li><li class="src short"><a href="#v:undo">undo</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:restart">restart</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:giveUp">giveUp</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerMove">playerMove</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerMoveFree">playerMoveFree</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerMoveGrabbing">playerMoveGrabbing</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerCanMove">playerCanMove</a> :: Int -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Maybe [<a href="Sokoban-Helper.html#t:VectorI">VectorI</a>]</li><li class="src short"><a href="#v:playerGrab">playerGrab</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerSaveTeleport">playerSaveTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerDoTeleport">playerDoTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:playerCanTeleport">playerCanTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</li><li class="src short"><a href="#v:handleEvent">handleEvent</a> :: Event -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:handleDirKey">handleDirKey</a> :: SpecialKey -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:update">update</a> :: Float -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; (<a href="Sokoban-Game-Level.html#t:Level">Level</a>, Bool)</li><li class="src short"><a href="#v:updatePlaying">updatePlaying</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:updateReplaying">updateReplaying</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:updateRestarting">updateRestarting</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></li><li class="src short"><a href="#v:drawingRegion">drawingRegion</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Helper.html#t:Rect">Rect</a></li><li class="src short"><a href="#v:draw">draw</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Picture</li></ul></div><div id="interface"><h1 id="g:1">Tipos</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Level" class="def">Level</a></p><div class="doc"><p>Tipo <em>abstrato</em> que representa um n&#237;vel.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Level" class="def">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:levelState" class="def">levelState</a> :: <a href="Sokoban-Game-Level.html#t:LevelState">LevelState</a></dt><dd class="doc"><p>Estado do n&#237;vel.</p></dd><dt class="src"><a name="v:levelReplayCmds" class="def">levelReplayCmds</a> :: [<a href="Sokoban-Game-Level.html#t:Command">Command</a>]</dt><dd class="doc"><p>Comandos que devem ser executados
 automaticamente no in&#237;cio do jogo.</p></dd><dt class="src"><a name="v:levelBoard" class="def">levelBoard</a> :: <a href="Sokoban-Game-Board.html#t:Board">Board</a></dt><dd class="doc"><p>Tabuleiro.</p></dd><dt class="src"><a name="v:levelPlayerAttr" class="def">levelPlayerAttr</a> :: <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a></dt><dd class="doc"><p>Atributos do personagem.</p></dd><dt class="src"><a name="v:levelPlayer" class="def">levelPlayer</a> :: <a href="Sokoban-Game-Player.html#t:Player">Player</a></dt><dd class="doc"><p>Jogador.</p></dd><dt class="src"><a name="v:levelBoxes" class="def">levelBoxes</a> :: <a href="Sokoban-Game-Boxes.html#t:Boxes">Boxes</a></dt><dd class="doc"><p>Caixas.</p></dd><dt class="src"><a name="v:levelAnimTime" class="def">levelAnimTime</a> :: Float</dt><dd class="doc"><p>Tempo atual da anima&#231;&#227;o.</p></dd><dt class="src"><a name="v:levelAnimDuration" class="def">levelAnimDuration</a> :: Float</dt><dd class="doc"><p>Dura&#231;&#227;o da anima&#231;&#227;o.</p></dd><dt class="src"><a name="v:levelMoveLeft" class="def">levelMoveLeft</a> :: Bool</dt><dd class="doc"><p>Determina se o utilizador pretende que o
 jogador se mova para a esquerda.</p></dd><dt class="src"><a name="v:levelMoveDown" class="def">levelMoveDown</a> :: Bool</dt><dd class="doc"><p>Determina se o utilizador pretende que o
 jogador se mova para baixo.</p></dd><dt class="src"><a name="v:levelMoveRight" class="def">levelMoveRight</a> :: Bool</dt><dd class="doc"><p>Determina se o utilizador pretende que o
 jogador se mova para a direita.</p></dd><dt class="src"><a name="v:levelMoveUp" class="def">levelMoveUp</a> :: Bool</dt><dd class="doc"><p>Determina se o utilizador pretende que o
 jogador se mova para cima.</p></dd><dt class="src"><a name="v:levelKeySpace" class="def">levelKeySpace</a> :: Bool</dt><dd class="doc"><p>Determina se a tecla de espa&#231;o est&#225; premida.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LevelState" class="def">LevelState</a></p><div class="doc"><p>Representa o estado de um n&#237;vel.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Playing" class="def">Playing</a></td><td class="doc"><p>O n&#237;vel n&#227;o est&#225; terminado e o utilizador pode interagir
 com o personagem.</p></td></tr><tr><td class="src"><a name="v:Replaying" class="def">Replaying</a></td><td class="doc"><p>O n&#237;vel est&#225; a executar comandos autom&#225;ticos.</p></td></tr><tr><td class="src"><a name="v:Restarting" class="def">Restarting</a></td><td class="doc"><p>O n&#237;vel est&#225; anular todos os movimentos do jogador de modo
 a regressar ao estado inicial.</p></td></tr><tr><td class="src"><a name="v:Ended" class="def">Ended</a></td><td class="doc"><p>O n&#237;vel terminou, quer por o jogador ter arrumado todas as
 caixas, quer por desist&#234;ncia.</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Command" class="def">Command</a> = Char</p><div class="doc"><p>Representa um comando que deve ser executado automaticamente no in&#237;cio do
 n&#237;vel. Estes comandos descrevem movimentos do jogador.</p></div></div><h1 id="g:2">Constru&#231;&#227;o</h1><div class="top"><p class="src"><a name="v:create" class="def">create</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Assets.html#t:Assets">Assets</a></td><td class="doc"><p>Assets.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>N&#237;vel a ser jogado.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a></td><td class="doc"><p>Atributos do personagem a utilizar.</p></td></tr><tr><td class="src">-&gt; IO <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Contr&#243;i um valor do tipo <code><a href="Sokoban-Game-Level.html#t:Level">Level</a></code>, dada uma <code>String</code> que representa o estado
 inicial do n&#237;vel e os atributos do personagem a utilizar.</p></div></div><h2 id="g:3">Parsing</h2><div class="top"><p class="src"><a name="v:parseLevel" class="def">parseLevel</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Assets.html#t:Assets">Assets</a></td><td class="doc"><p>Assets.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Assets.html#t:Theme">Theme</a></td><td class="doc"><p>Tema.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-PlayerAttr.html#t:PlayerAttr">PlayerAttr</a></td><td class="doc"><p>Atributos do personagem a utilizar.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>N&#237;vel a ser jogado.</p></td></tr><tr><td class="src">-&gt; IO (<a href="Sokoban-Game-Board.html#t:Board">Board</a>, <a href="Sokoban-Game-Player.html#t:Player">Player</a>, <a href="Sokoban-Game-Boxes.html#t:Boxes">Boxes</a>, [<a href="Sokoban-Game-Level.html#t:Command">Command</a>])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Contr&#243;i valores do tipo <code><a href="Sokoban-Game-Board.html#t:Board">Board</a></code>, <code><a href="Sokoban-Game-Player.html#t:Player">Player</a></code>, <code><a href="Sokoban-Game-Boxes.html#t:Boxes">Boxes</a></code> e
 <code>[<code><a href="Sokoban-Game-Level.html#t:Command">Command</a></code>]</code> a partir de uma representa&#231;&#227;o textual adequada.</p></div></div><div class="top"><p class="src"><a name="v:parseCells" class="def">parseCells</a> :: [String] -&gt; ([<a href="Sokoban-Game-Board.html#t:Cell">Cell</a>], <a href="Sokoban-Helper.html#t:VectorI">VectorI</a>)</p><div class="doc"><p>Contr&#243;i as c&#233;lulas de um tabuleiro a partir de uma representa&#231;&#227;o textual
 adequada.</p></div></div><div class="top"><p class="src"><a name="v:parseCoords" class="def">parseCoords</a> :: [String] -&gt; [<a href="Sokoban-Helper.html#t:VectorI">VectorI</a>]</p><div class="doc"><p>Contr&#243;i uma lista de pontos a partir de uma representa&#231;&#227;o textual adequada.</p></div></div><div class="top"><p class="src"><a name="v:parsePos" class="def">parsePos</a> :: String -&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></p><div class="doc"><p>Contr&#243;i um ponto a partir de uma representa&#231;&#227;o textual adequada.</p></div></div><div class="top"><p class="src"><a name="v:parseCommands" class="def">parseCommands</a> :: [String] -&gt; [<a href="Sokoban-Game-Level.html#t:Command">Command</a>]</p><div class="doc"><p>Contr&#243;i uma lista de comandos a partir de uma representa&#231;&#227;o textual
 adequada.</p></div></div><h1 id="g:4">Estado</h1><div class="doc"><p>Fun&#231;&#245;es que inspecionam o estado de um n&#237;vel.</p></div><div class="top"><p class="src"><a name="v:isAnimating" class="def">isAnimating</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</p><div class="doc"><p>Verifica se o n&#237;vel se encontra a meio de uma anima&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a name="v:numSteps" class="def">numSteps</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Int</p><div class="doc"><p>Determina o n&#250;mero de movimentos que o jogador j&#225; efetuou.</p></div></div><div class="top"><p class="src"><a name="v:levelFinished" class="def">levelFinished</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</p><div class="doc"><p>Verifica se o tabuleiro e as caixas de um n&#237;vel se encontram num estado
 terminal, i.e. se o n&#237;vel j&#225; foi terminado.</p></div></div><h1 id="g:5">A&#231;&#245;es</h1><div class="doc"><p>Fun&#231;&#245;es exportadas que executam a&#231;&#245;es sobre um n&#237;vel, e.g. anular uma jogada.</p></div><div class="top"><p class="src"><a name="v:undo" class="def">undo</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Anula a &#250;ltima a&#231;&#227;o realizada pelo jogador, se existente.</p></div></div><div class="top"><p class="src"><a name="v:restart" class="def">restart</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Anula todas as a&#231;&#245;es j&#225; realizadas pelo jogador.</p></div></div><div class="top"><p class="src"><a name="v:giveUp" class="def">giveUp</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Termina o jogo por desist&#234;ncia.</p></div></div><h1 id="g:6">Movimento do Jogador</h1><div class="doc"><p>Fun&#231;&#245;es respons&#225;veis por gerir o movimento do jogador.</p></div><div class="top"><p class="src"><a name="v:playerMove" class="def">playerMove</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Dire&#231;&#227;o do movimento.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Tenta mover o jogador numa certa dire&#231;&#227;o.</p></div></div><div class="top"><p class="src"><a name="v:playerMoveFree" class="def">playerMoveFree</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Dire&#231;&#227;o do movimento.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Tenta mover o jogador numa certa dire&#231;&#227;o, no caso de o jogador <em>n&#227;o</em> se
 encontrar a agarrar uma caixa.</p></div></div><div class="top"><p class="src"><a name="v:playerMoveGrabbing" class="def">playerMoveGrabbing</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Dire&#231;&#227;o do movimento.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Tenta mover o jogador numa certa dire&#231;&#227;o, no caso de o jogador se encontrar
 a agarrar uma caixa.</p></div></div><div class="top"><p class="src"><a name="v:playerCanMove" class="def">playerCanMove</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#250;mero de caixas que o jogador ainda pode
 empurrar.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Posi&#231;&#227;o para onde o jogador se deve mover.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Helper.html#t:VectorI">VectorI</a></td><td class="doc"><p>Dire&#231;&#227;o na qual o jogador se deve mover.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Maybe [<a href="Sokoban-Helper.html#t:VectorI">VectorI</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Determina se o jogador se pode mover numa certa dire&#231;&#227;o, tendo em conta o
 n&#250;mero de caixas que este pode empurrar.</p><p>Se o jogador n&#227;o se puder mover, &#233; devolvido o valor <code>Nothing</code>. Em caso
 contr&#225;rio, &#233; devolvido o valor <code><code>Just</code> boxes</code>, onde <code>boxes</code> corresponde &#224;s
 posi&#231;&#245;es de todas as caixas que o jogador iria movimentar ao realizar o
 movimento em quest&#227;o.</p></div></div><div class="top"><p class="src"><a name="v:playerGrab" class="def">playerGrab</a> :: <a href="Sokoban-Helper.html#t:VectorI">VectorI</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Faz com que o jogador agarre na caixa que se encontra na dire&#231;&#227;o
 especificada, se poss&#237;vel.</p></div></div><div class="top"><p class="src"><a name="v:playerSaveTeleport" class="def">playerSaveTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Armazena a posi&#231;&#227;o atual do jogador como a posi&#231;&#227;o de destino do teleporte.</p></div></div><div class="top"><p class="src"><a name="v:playerDoTeleport" class="def">playerDoTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Teleporta o jogador para a posi&#231;&#227;o previamente armazenada, se poss&#237;vel.</p></div></div><div class="top"><p class="src"><a name="v:playerCanTeleport" class="def">playerCanTeleport</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Bool</p><div class="doc"><p>Verifica se o jogador se pode teleportar para a posi&#231;&#227;o previamente
 armazenada.</p></div></div><h1 id="g:7">Processamento de Eventos</h1><div class="top"><p class="src"><a name="v:handleEvent" class="def">handleEvent</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Evento.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Processa um evento.</p></div></div><div class="top"><p class="src"><a name="v:handleDirKey" class="def">handleDirKey</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: SpecialKey</td><td class="doc"><p>Tecla premida.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Processa um evento relativo a uma tecla de dire&#231;&#227;o.</p></div></div><h1 id="g:8">Atualiza&#231;&#227;o</h1><div class="top"><p class="src"><a name="v:update" class="def">update</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Float</td><td class="doc"><p>Tempo desde a &#250;ltima atualiza&#231;&#227;o, em segundos.</p></td></tr><tr><td class="src">-&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="Sokoban-Game-Level.html#t:Level">Level</a>, Bool)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Atualiza o estado de um n&#237;vel.</p><p>&#201; devolvido um tuplo com o novo estado do n&#237;vel e um booleano que determina
 se durante esta atualiza&#231;&#227;o se verificou, pela primeira vez, que o n&#237;vel
 terminou.</p></div></div><div class="top"><p class="src"><a name="v:updatePlaying" class="def">updatePlaying</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar da fun&#231;&#227;o <code><a href="Sokoban-Game-Level.html#v:update">update</a></code>, utilizada quando o estado do n&#237;vel tem
 o valor <code><a href="Sokoban-Game-Level.html#v:Playing">Playing</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:updateReplaying" class="def">updateReplaying</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar da fun&#231;&#227;o <code><a href="Sokoban-Game-Level.html#v:update">update</a></code>, utilizada quando o estado do n&#237;vel tem
 o valor <code><a href="Sokoban-Game-Level.html#v:Replaying">Replaying</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:updateRestarting" class="def">updateRestarting</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Game-Level.html#t:Level">Level</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar da fun&#231;&#227;o <code><a href="Sokoban-Game-Level.html#v:update">update</a></code>, utilizada quando o estado do n&#237;vel tem
 o valor <code><a href="Sokoban-Game-Level.html#v:Restarting">Restarting</a></code>.</p></div></div><h1 id="g:9">Convers&#227;o para <code>Picture</code></h1><div class="top"><p class="src"><a name="v:drawingRegion" class="def">drawingRegion</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; <a href="Sokoban-Helper.html#t:Rect">Rect</a></p><div class="doc"><p>Determina a regi&#227;o em que um n&#237;vel ser&#225; desenhado.</p></div></div><div class="top"><p class="src"><a name="v:draw" class="def">draw</a> :: <a href="Sokoban-Game-Level.html#t:Level">Level</a> -&gt; Picture</p><div class="doc"><p>Desenha um n&#237;vel.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>