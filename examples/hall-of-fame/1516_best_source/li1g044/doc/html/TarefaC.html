<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>TarefaC</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_TarefaC.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Alberto Faria &lt;albertofaria2@gmail.com&gt;;
              F&#225;bio Fontes &lt;fabio.4797@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">TarefaC</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Entrada</a></li><li><a href="#g:2">Tipos e Fun&#231;&#245;es Auxiliares</a></li><li><a href="#g:3">Processamento do Input</a><ul><li><a href="#g:4">Tabuleiro</a></li><li><a href="#g:5">Coordenadas</a></li><li><a href="#g:6">Comando</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo cont&#233;m uma resolu&#231;&#227;o correspondente &#224; <strong>Tarefa C</strong> da primeira fase
do projeto de Laborat&#243;rios de Inform&#225;tica I.</p><p>O objetivo &#233; o de apresentar no <code>stdout</code> a posi&#231;&#227;o do boneco ap&#243;s a execu&#231;&#227;o (ou
tentativa de execu&#231;&#227;o) de um comando, a partir do input fornecido atrav&#233;s do
<code>stdin</code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:tarefaC">tarefaC</a> :: [String] -&gt; [String]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Vector">Vector</a> = (Int, Int)</li><li class="src short"><a href="#v:-124--43--124-">(|+|)</a> :: <a href="TarefaC.html#t:Vector">Vector</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a></li><li class="src short"><a href="#v:vectorToString">vectorToString</a> :: <a href="TarefaC.html#t:Vector">Vector</a> -&gt; String</li><li class="src short"><a href="#v:replaceElemAt">replaceElemAt</a> :: Int -&gt; a -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:parseInput">parseInput</a> :: [String] -&gt; (<a href="TarefaC.html#t:Board">Board</a>, <a href="TarefaC.html#t:Coords">Coords</a>, <a href="TarefaC.html#t:Command">Command</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Board">Board</a> = <a href="#v:Board">Board</a> {<ul class="subs"><li><a href="#v:boardSize">boardSize</a> :: <a href="TarefaC.html#t:Vector">Vector</a></li><li><a href="#v:boardCells">boardCells</a> :: [[<a href="TarefaC.html#t:Cell">Cell</a>]]</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Cell">Cell</a> = Char</li><li class="src short"><a href="#v:parseBoard">parseBoard</a> :: [String] -&gt; <a href="TarefaC.html#t:Board">Board</a></li><li class="src short"><a href="#v:getCell">getCell</a> :: <a href="TarefaC.html#t:Vector">Vector</a> -&gt; <a href="TarefaC.html#t:Board">Board</a> -&gt; <a href="TarefaC.html#t:Cell">Cell</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Coords">Coords</a> = <a href="#v:Coords">Coords</a> {<ul class="subs"><li><a href="#v:coordsPlayer">coordsPlayer</a> :: <a href="TarefaC.html#t:Vector">Vector</a></li><li><a href="#v:coordsBoxes">coordsBoxes</a> :: [<a href="TarefaC.html#t:Vector">Vector</a>]</li></ul>}</li><li class="src short"><a href="#v:parseCoords">parseCoords</a> :: [String] -&gt; <a href="TarefaC.html#t:Coords">Coords</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Command">Command</a> = Char</li><li class="src short"><a href="#v:parseCommand">parseCommand</a> :: String -&gt; <a href="TarefaC.html#t:Command">Command</a></li><li class="src short"><a href="#v:commandDir">commandDir</a> :: <a href="TarefaC.html#t:Command">Command</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a></li><li class="src short"><a href="#v:runCommand">runCommand</a> :: <a href="TarefaC.html#t:Board">Board</a> -&gt; <a href="TarefaC.html#t:Coords">Coords</a> -&gt; <a href="TarefaC.html#t:Command">Command</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a></li></ul></div><div id="interface"><h1 id="g:1">Entrada</h1><div class="top"><p class="src"><a name="v:tarefaC" class="def">tarefaC</a> :: [String] -&gt; [String]</p><div class="doc"><p>Fun&#231;&#227;o inicial da tarefa. Recebe o input do programa e devolve o output
 correspondente.</p></div></div><h1 id="g:2">Tipos e Fun&#231;&#245;es Auxiliares</h1><div class="doc"><p>Tipos e fun&#231;&#245;es gen&#233;ricos utilizados pelo programa.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Vector" class="def">Vector</a> = (Int, Int)</p><div class="doc"><p>Representa um vetor bidimensional.</p><p>Pode ser utilizado para representar pontos, transla&#231;&#245;es, dire&#231;&#245;es, dimens&#245;es,
 etc.</p></div></div><div class="top"><p class="src"><a name="v:-124--43--124-" class="def">(|+|)</a> :: <a href="TarefaC.html#t:Vector">Vector</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a></p><div class="doc"><p>Adiciona dois valores do tipo <code><a href="TarefaC.html#t:Vector">Vector</a></code> componente por componente, segundo a
 equa&#231;&#227;o:</p><pre>(x1, y1) |+| (x2, y2) = (x1+x2, y1+y2)</pre><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(1,4) |+| (2,5)
</code></strong>(3,9)
</pre></div></div><div class="top"><p class="src"><a name="v:vectorToString" class="def">vectorToString</a> :: <a href="TarefaC.html#t:Vector">Vector</a> -&gt; String</p><div class="doc"><p>Converte um valor do tipo <code><a href="TarefaC.html#t:Vector">Vector</a></code> numa representa&#231;&#227;o textual equivalente.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>vectorToString (1,2)
</code></strong>&quot;1 2&quot;
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>vectorToString (-3,-4)
</code></strong>&quot;-3 -4&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:replaceElemAt" class="def">replaceElemAt</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>&#205;ndice do elemento a substituir.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Valor pelo qual substituir o elemento.</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>Lista original.</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>Lista resultante.</p></td></tr></table></div><div class="doc"><p>Substitui um elemento de uma lista pelo valor especificado.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>replaceElemAt 1 'E' ['a','b','c','d']
</code></strong>['a','E','c','d']
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>replaceElemAt 3 9 [1,2,3,4]
</code></strong>[1,2,3,9]
</pre></div></div><h1 id="g:3">Processamento do Input</h1><div class="doc"><p>Tipos e fun&#231;&#245;es destinados ao processamento e manipula&#231;&#227;o do input do
 programa.</p></div><div class="top"><p class="src"><a name="v:parseInput" class="def">parseInput</a> :: [String] -&gt; (<a href="TarefaC.html#t:Board">Board</a>, <a href="TarefaC.html#t:Coords">Coords</a>, <a href="TarefaC.html#t:Command">Command</a>)</p><div class="doc"><p>Constr&#243;i um tuplo com valores dos tipos <code><a href="TarefaC.html#t:Board">Board</a></code>, <code><a href="TarefaC.html#t:Coords">Coords</a></code> e <code><a href="TarefaC.html#t:Command">Command</a></code> a
 partir de uma representa&#231;&#227;o textual adequada.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseInput [&quot;#####&quot;, &quot;#  .#&quot;, &quot;#####&quot;, &quot;1 1&quot;, &quot;2 1&quot;, &quot;3 1&quot;, &quot;R&quot;]
</code></strong>( Board { boardSize = (5,3), boardCells = [&quot;#####&quot;,&quot;#  .#&quot;,&quot;#####&quot;] },
Coords { coordsPlayer = (1,1), coordsBoxes = [(2,1),(3,1)] },
'R' )
</pre></div></div><h2 id="g:4">Tabuleiro</h2><div class="doc"><p>Tipos e fun&#231;&#245;es espec&#237;ficos ao processamento de tabuleiros de jogo.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Board" class="def">Board</a></p><div class="doc"><p>Representa um tabuleiro.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Board" class="def">Board</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:boardSize" class="def">boardSize</a> :: <a href="TarefaC.html#t:Vector">Vector</a></dt><dd class="doc"><p>O tamanho do tabuleiro.</p></dd><dt class="src"><a name="v:boardCells" class="def">boardCells</a> :: [[<a href="TarefaC.html#t:Cell">Cell</a>]]</dt><dd class="doc"><p>As c&#233;lulas do tabuleiro.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Cell" class="def">Cell</a> = Char</p><div class="doc"><p>Representa uma c&#233;lula de um tabuleiro.</p></div></div><div class="top"><p class="src"><a name="v:parseBoard" class="def">parseBoard</a> :: [String] -&gt; <a href="TarefaC.html#t:Board">Board</a></p><div class="doc"><p>Constr&#243;i um valor do tipo <code><a href="TarefaC.html#t:Board">Board</a></code> a partir de uma representa&#231;&#227;o textual
 adequada.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseBoard [&quot;#####&quot;, &quot;#  .#&quot;, &quot;#####&quot;]
</code></strong>Board { boardSize = (5,3), boardCells = [&quot;#####&quot;,&quot;#  .#&quot;,&quot;#####&quot;] }
</pre></div></div><div class="top"><p class="src"><a name="v:getCell" class="def">getCell</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="TarefaC.html#t:Vector">Vector</a></td><td class="doc"><p>Coordenadas da c&#233;lula.</p></td></tr><tr><td class="src">-&gt; <a href="TarefaC.html#t:Board">Board</a></td><td class="doc"><p>Tabuleiro.</p></td></tr><tr><td class="src">-&gt; <a href="TarefaC.html#t:Cell">Cell</a></td><td class="doc"><p>C&#233;lula nas coordenadas especificadas.</p></td></tr></table></div><div class="doc"><p>Devolve a c&#233;lula de um tabuleiro com as coordenadas especificadas.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getCell (3,1) (parseBoard [&quot;#####&quot;, &quot;#  .#&quot;, &quot;#####&quot;])
</code></strong>'.'
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>getCell (0,1) (parseBoard [&quot;#####&quot;, &quot;#  .#&quot;, &quot;#####&quot;])
</code></strong>'#'
</pre></div></div><h2 id="g:5">Coordenadas</h2><div class="doc"><p>Tipos e fun&#231;&#245;es relacionados com o processamento de coordenadas.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Coords" class="def">Coords</a></p><div class="doc"><p>Representa as coordenadas (posi&#231;&#245;es no tabuleiro) do boneco e de todas as
 caixas.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Coords" class="def">Coords</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:coordsPlayer" class="def">coordsPlayer</a> :: <a href="TarefaC.html#t:Vector">Vector</a></dt><dd class="doc"><p>As coordenadas do boneco.</p></dd><dt class="src"><a name="v:coordsBoxes" class="def">coordsBoxes</a> :: [<a href="TarefaC.html#t:Vector">Vector</a>]</dt><dd class="doc"><p>As coordenadas de todas as caixas.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:parseCoords" class="def">parseCoords</a> :: [String] -&gt; <a href="TarefaC.html#t:Coords">Coords</a></p><div class="doc"><p>Constr&#243;i um valor do tipo <code><a href="TarefaC.html#t:Coords">Coords</a></code> a partir de uma representa&#231;&#227;o textual
 adequada.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseCoords [&quot;11 2&quot;, &quot;5 8&quot;, &quot;7 7&quot;, &quot;5 6&quot;]
</code></strong>Coords { coordsPlayer = (11,2), coordsBoxes = [(5,8),(7,7),(5,6)] }
</pre></div></div><h2 id="g:6">Comando</h2><div class="doc"><p>Tipos e fun&#231;&#245;es relacionados com o comando que deve ser executado.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Command" class="def">Command</a> = Char</p><div class="doc"><p>Representa um comando.</p><p>Pode tomar os seguintes valores: <code>'L'</code>, <code>'R'</code>, <code>'U'</code>, <code>'D'</code>.</p></div></div><div class="top"><p class="src"><a name="v:parseCommand" class="def">parseCommand</a> :: String -&gt; <a href="TarefaC.html#t:Command">Command</a></p><div class="doc"><p>Contr&#243;i um valor do tipo <code><a href="TarefaC.html#t:Command">Command</a></code> a partir de uma representa&#231;&#227;o textual
 adequada.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseCommand &quot;L&quot;
</code></strong>'L'
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseCommand &quot;R&quot;
</code></strong>'R'
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseCommand &quot;U&quot;
</code></strong>'U'
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseCommand &quot;D&quot;
</code></strong>'D'
</pre></div></div><div class="top"><p class="src"><a name="v:commandDir" class="def">commandDir</a> :: <a href="TarefaC.html#t:Command">Command</a> -&gt; <a href="TarefaC.html#t:Vector">Vector</a></p><div class="doc"><p>Converte um valor do tipo <code><a href="TarefaC.html#t:Command">Command</a></code> num valor do tipo <code><a href="TarefaC.html#t:Vector">Vector</a></code> que
 representa a dire&#231;&#227;o correspondente a esse comando.</p><h4>Exemplos de utiliza&#231;&#227;o:</h4><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>commandDir 'L'
</code></strong>(-1,0)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>commandDir 'R'
</code></strong>(1,0)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>commandDir 'U'
</code></strong>(0,1)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>commandDir 'D'
</code></strong>(0,-1)
</pre></div></div><div class="top"><p class="src"><a name="v:runCommand" class="def">runCommand</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="TarefaC.html#t:Board">Board</a></td><td class="doc"><p>Tabuleiro.</p></td></tr><tr><td class="src">-&gt; <a href="TarefaC.html#t:Coords">Coords</a></td><td class="doc"><p>Coordenadas do boneco e das caixas.</p></td></tr><tr><td class="src">-&gt; <a href="TarefaC.html#t:Command">Command</a></td><td class="doc"><p>Comando a executar.</p></td></tr><tr><td class="src">-&gt; <a href="TarefaC.html#t:Vector">Vector</a></td><td class="doc"><p>Coordenadas do boneco ap&#243;s a execu&#231;&#227;o do comando.</p></td></tr></table></div><div class="doc"><p>Executa (ou tenta executar) um comando, dado um certo tabuleiro e
 coordenadas. Devolve as coordenadas do boneco ap&#243;s a execu&#231;&#227;o do comando.</p><p>O boneco apenas se pode movimentar se:</p><ul><li>a c&#233;lula de destino estiver vazia, <strong>OU</strong></li><li>a c&#233;lula de destino contiver uma caixa mas a c&#233;lula imediatamente a seguir
 estiver vazia.</li></ul><p>Se n&#227;o for poss&#237;vel mover o boneco na dire&#231;&#227;o representada pelo comando, as
 suas coordenadas permanecem inalteradas.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>